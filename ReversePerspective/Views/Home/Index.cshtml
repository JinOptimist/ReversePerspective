@using DAO.Model
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div ng-controller="homeController">
    <h2>Обратная перспектива</h2>

    <div>
        <div ng-repeat="opus in opuses">
            <a href="#" ng-click="selectOpus(opus)">{{ opus.Name }}</a> --- <a href="#" ng-click="deleteOpus(opus.Id)">DELETE</a>
        </div>
    </div>

    <hr />

    <h2>Current</h2>
    <div>
        <h3>{{currentOpus.Name}}</h3>
        <div ng-repeat="scene in currentOpus.Scenes">
            <p class="block" id="phrase{{phrases.Id}}" ng-repeat="phrases in scene.Phrases">
                <span ng-show="phrases.HeroName" class="name" ng-click="selectHeroInfo(phrases.HeroId, phrases.Id, phrases.HeroName)">{{ phrases.HeroName }}: </span><span>{{ phrases.Text }}</span>
            </p>
        </div>
    </div>




    <div ng-show="heroInfo" id="heroInfo" ng-style="{top:heroInfoBlockTop}">
        <a href="#" ng-click="closeHeroInfo()" style="float: right;">Close</a>
        <p>Герой: {{heroInfo.heroName}}</p>
        
        
        <input type="text" ng-model="heroInfo.newInfo" style="width: 400px;" />
        <input type="submit" value="Добавить" ng-click="saveHeroInfo()" />
        <p>{{ heroInfo.newInfo }}</p>
        <p ng-repeat="info in heroInfo">
            {{info.Info}}
        </p>
    </div>


    @*<hr/>
        <hr/>
        <hr/>
        <h2>All</h2>
        <div ng-repeat="opus in opuses">
            <h3>{{opus.Name}}</h3>
            <div ng-repeat="scene in opus.Scenes">
                <p ng-repeat="phrases in scene.Phrases">
                    {{ phrases.HeroName }}: {{ phrases.Text }}
                </p>
            </div>
        </div>
        <hr />*@
</div>